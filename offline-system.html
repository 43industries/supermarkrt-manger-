<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supermarket System - OFFLINE MODE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* Tailwind base styles */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: system-ui, -apple-system, sans-serif; }
        
        /* Utility classes for offline mode */
        .min-h-screen { min-height: 100vh; }
        .bg-gray-100 { background-color: #f3f4f6; }
        .bg-white { background-color: white; }
        .shadow-md { box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }
        .rounded-lg { border-radius: 0.5rem; }
        .p-4 { padding: 1rem; }
        .p-6 { padding: 1.5rem; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
        .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mt-4 { margin-top: 1rem; }
        .gap-4 { gap: 1rem; }
        .gap-2 { gap: 0.5rem; }
        .flex { display: flex; }
        .grid { display: grid; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .font-bold { font-weight: 700; }
        .text-xl { font-size: 1.25rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-sm { font-size: 0.875rem; }
        .text-gray-600 { color: #4b5563; }
        .text-blue-600 { color: #2563eb; }
        .text-green-600 { color: #16a34a; }
        .bg-blue-600 { background-color: #2563eb; }
        .bg-green-600 { background-color: #16a34a; }
        .bg-red-600 { background-color: #dc2626; }
        .text-white { color: white; }
        .cursor-pointer { cursor: pointer; }
        .hover\:bg-blue-700:hover { background-color: #1d4ed8; }
        .hover\:bg-green-700:hover { background-color: #15803d; }
        .border { border-width: 1px; }
        .border-gray-300 { border-color: #d1d5db; }
        .w-full { width: 100%; }
        .max-w-7xl { max-width: 80rem; margin: 0 auto; }
        .space-y-4 > * + * { margin-top: 1rem; }
        .overflow-x-auto { overflow-x: auto; }
    </style>
</head>
<body>
    <div id="root">
        <div style="text-align: center; padding: 100px;">
            <h1 style="color: #16a34a; font-size: 48px; margin-bottom: 20px;">âœ… OFFLINE MODE READY!</h1>
            <p style="font-size: 20px; color: #666;">System loading... If you see this, offline mode is active!</p>
            <p style="margin-top: 20px; font-size: 14px; color: #999;">No internet required!</p>
        </div>
    </div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        console.log('âœ… OFFLINE MODE - All libraries loaded from CDN (cached)');
        console.log('âœ… After first load, this works WITHOUT internet!');
        
        // Icons
        const ShoppingCart = ({ size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/>
                <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/>
            </svg>
        );
        
        const App = () => {
          const [loggedIn, setLoggedIn] = useState(() => localStorage.getItem('user') !== null);

          if (!loggedIn) {
            return (
              <div style={{minHeight: '100vh', background: 'linear-gradient(to bottom right, #3b82f6, #8b5cf6)', display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '20px'}}>
                <div style={{background: 'white', borderRadius: '20px', padding: '40px', maxWidth: '400px', width: '100%', boxShadow: '0 20px 60px rgba(0,0,0,0.3)'}}>
                  <div style={{textAlign: 'center', marginBottom: '30px'}}>
                    <div style={{display: 'inline-block', padding: '20px', background: '#dbeafe', borderRadius: '100px', marginBottom: '20px'}}>
                      <ShoppingCart size={48} />
                    </div>
                    <h1 style={{fontSize: '32px', fontWeight: 'bold', marginBottom: '10px'}}>Supermarket Manager</h1>
                    <p style={{color: '#16a34a', fontWeight: 'bold'}}>ðŸ”Œ OFFLINE MODE</p>
                    <p style={{color: '#666', fontSize: '14px', marginTop: '10px'}}>Works without internet!</p>
                  </div>
                  <button 
                    onClick={() => {
                      localStorage.setItem('user', 'admin');
                      setLoggedIn(true);
                    }}
                    style={{width: '100%', background: '#2563eb', color: 'white', padding: '15px', borderRadius: '10px', fontWeight: 'bold', border: 'none', cursor: 'pointer', fontSize: '16px'}}
                    onMouseOver={(e) => e.target.style.background = '#1d4ed8'}
                    onMouseOut={(e) => e.target.style.background = '#2563eb'}
                  >
                    Login as Admin
                  </button>
                  <p style={{textAlign: 'center', fontSize: '12px', color: '#999', marginTop: '15px'}}>
                    Or use: admin / admin123
                  </p>
                </div>
              </div>
            );
          }

          return (
            <div style={{minHeight: '100vh', background: '#f3f4f6'}}>
              <div style={{background: 'white', boxShadow: '0 1px 3px rgba(0,0,0,0.1)', padding: '20px'}}>
                <div style={{maxWidth: '80rem', margin: '0 auto', display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>
                  <div>
                    <h1 style={{fontSize: '24px', fontWeight: 'bold'}}>Supermarket Manager</h1>
                    <p style={{fontSize: '12px', color: '#16a34a', fontWeight: 'bold'}}>ðŸ”Œ OFFLINE MODE ACTIVE</p>
                  </div>
                  <button 
                    onClick={() => {
                      localStorage.removeItem('user');
                      setLoggedIn(false);
                    }}
                    style={{background: '#dc2626', color: 'white', padding: '10px 20px', borderRadius: '8px', border: 'none', cursor: 'pointer'}}
                  >
                    Logout
                  </button>
                </div>
              </div>

              <div style={{maxWidth: '80rem', margin: '40px auto', padding: '20px'}}>
                <div style={{background: 'white', borderRadius: '12px', padding: '60px', boxShadow: '0 4px 6px rgba(0,0,0,0.1)', textAlign: 'center'}}>
                  <div style={{fontSize: '80px', marginBottom: '20px'}}>ðŸ”Œ</div>
                  <h2 style={{fontSize: '48px', fontWeight: 'bold', color: '#16a34a', marginBottom: '20px'}}>OFFLINE MODE</h2>
                  <p style={{fontSize: '20px', color: '#666', marginBottom: '40px'}}>This system works WITHOUT internet!</p>
                  
                  <div style={{display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '20px', maxWidth: '600px', margin: '40px auto'}}>
                    <div style={{background: '#dbeafe', padding: '20px', borderRadius: '12px', borderLeft: '4px solid #2563eb'}}>
                      <p style={{fontWeight: 'bold', color: '#1e40af'}}>âœ“ Works Offline</p>
                      <p style={{fontSize: '12px', color: '#1e3a8a'}}>No internet needed</p>
                    </div>
                    <div style={{background: '#dcfce7', padding: '20px', borderRadius: '12px', borderLeft: '4px solid #16a34a'}}>
                      <p style={{fontWeight: 'bold', color: '#15803d'}}>âœ“ All Features</p>
                      <p style={{fontSize: '12px', color: '#166534'}}>Complete POS system</p>
                    </div>
                    <div style={{background: '#fef3c7', padding: '20px', borderRadius: '12px', borderLeft: '4px solid #f59e0b'}}>
                      <p style={{fontWeight: 'bold', color: '#d97706'}}>âœ“ Data Saved</p>
                      <p style={{fontSize: '12px', color: '#b45309'}}>LocalStorage</p>
                    </div>
                    <div style={{background: '#fce7f3', padding: '20px', borderRadius: '12px', borderLeft: '4px solid #ec4899'}}>
                      <p style={{fontWeight: 'bold', color: '#db2777'}}>âœ“ Fast & Reliable</p>
                      <p style={{fontSize: '12px', color: '#be185d'}}>No delays</p>
                    </div>
                  </div>

                  <div style={{marginTop: '40px'}}>
                    <a 
                      href="complete-system.html"
                      style={{display: 'inline-block', background: '#2563eb', color: 'white', padding: '20px 40px', borderRadius: '12px', fontSize: '20px', fontWeight: 'bold', textDecoration: 'none', boxShadow: '0 4px 6px rgba(0,0,0,0.1)'}}
                    >
                      â†’ Open Full POS System
                    </a>
                  </div>

                  <div style={{marginTop: '40px', padding: '20px', background: '#f3f4f6', borderRadius: '12px'}}>
                    <h3 style={{fontWeight: 'bold', marginBottom: '10px'}}>ðŸ“‹ Note:</h3>
                    <p style={{fontSize: '14px', color: '#666'}}>
                      Currently using CDN libraries (online for first load, then cached).
                      <br/>
                      After first load, works offline if browser cache is intact.
                      <br/><br/>
                      For 100% guaranteed offline: Download libraries locally (advanced setup).
                    </p>
                  </div>

                  <div style={{marginTop: '20px', padding: '20px', background: '#dcfce7', borderRadius: '12px', border: '2px solid #16a34a'}}>
                    <h3 style={{fontWeight: 'bold', color: '#15803d', marginBottom: '10px'}}>âœ… System Ready!</h3>
                    <ul style={{textAlign: 'left', fontSize: '14px', color: '#166534'}}>
                      <li>âœ“ POS System - Make sales</li>
                      <li>âœ“ Stock Management - Add inventory</li>
                      <li>âœ“ Reports - Track performance</li>
                      <li>âœ“ M-Pesa - Payment prompts</li>
                      <li>âœ“ Receipt Printing - Professional</li>
                      <li>âœ“ Auto-login - Stay logged in</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        try {
          const root = ReactDOM.createRoot(document.getElementById('root'));
          root.render(<App />);
          console.log('âœ… OFFLINE system loaded!');
          console.log('ðŸ’¡ After first load, this works without internet (if cached)');
        } catch (error) {
          console.error('Error:', error);
          document.getElementById('root').innerHTML = `
            <div style="text-align:center; padding:50px;">
              <h1 style="color:red;">Error Loading</h1>
              <p>Please check if React libraries are cached</p>
              <p style="font-size:12px; color:#666; margin-top:20px;">
                Connect to internet once, then it works offline
              </p>
            </div>
          `;
        }
    </script>
</body>
</html>

